Version 4
SHEET 1 1280 680
WIRE 144 96 96 96
WIRE 304 96 224 96
WIRE 464 96 384 96
WIRE 624 96 544 96
WIRE 784 96 704 96
WIRE 144 128 96 128
WIRE 304 128 224 128
WIRE 464 128 384 128
WIRE 624 128 544 128
WIRE 784 128 704 128
WIRE 144 224 96 224
WIRE 304 224 224 224
WIRE 464 224 384 224
WIRE 624 224 544 224
WIRE 784 224 704 224
WIRE 144 320 96 320
WIRE 304 320 224 320
WIRE 464 320 384 320
WIRE 624 320 544 320
FLAG 96 96 CLK
IOPIN 96 96 In
FLAG 96 128 RST
IOPIN 96 128 In
FLAG 96 224 START
IOPIN 96 224 In
FLAG 784 96 NOTE[1:0]
IOPIN 784 96 Out
FLAG 784 128 STATE[2:0]
IOPIN 784 128 Out
FLAG 784 224 DONE
IOPIN 784 224 Out
SYMBOL Register 176 112 R0
SYMATTR InstName X1
SYMBOL Register 336 112 R0
SYMATTR InstName X2
SYMBOL Register 496 112 R0
SYMATTR InstName X3
SYMBOL Register 656 112 R0
SYMATTR InstName X4
SYMBOL MUX4 176 320 R0
SYMATTR InstName X5
SYMBOL MUX4 336 320 R0
SYMATTR InstName X6
SYMBOL MUX4 496 320 R0
SYMATTR InstName X7
SYMBOL MUX4 656 320 R0
SYMATTR InstName X8
TEXT -168 -56 Left 2 ;FSM for Mary Had a Little Lamb (5 States, 8 Tasks)
TEXT -168 -24 Left 2 ;Notes: 3=E, 2=D, 1=C, 0=Rest
TEXT -168 8 Left 2 ;State Organization:
TEXT -168 40 Left 2 ;000: Initial/Reset
TEXT -168 72 Left 2 ;001: Playing "Ma-" (Tasks 1-2)
TEXT -168 104 Left 2 ;010: Playing "ry" (Tasks 3-4)
TEXT -168 136 Left 2 ;011: Playing "had" (Tasks 5-6)
TEXT -168 168 Left 2 ;100: Playing "a" (Tasks 7-8)
TEXT -168 200 Left 2 ;Task Implementation:
TEXT -168 232 Left 2 ;1: Play E (3)    5: Play E (3)
TEXT -168 264 Left 2 ;2: Play D (2)    6: Play Rest (0)
TEXT -168 296 Left 2 ;3: Play C (1)    7: Repeat
TEXT -168 328 Left 2 ;4: Play D (2)    8: End